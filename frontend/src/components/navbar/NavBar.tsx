import React, { useState } from 'react';
import styles from "./styles.module.scss";
import { Link } from 'react-router-dom';

interface NavbarProps {
    state: boolean;
    onClick: () => void;
}

const NavBar = () => {
    const [activeSection, setActiveSection] = useState("home");
    const [isDropdownOpen, setDropdownOpen] = useState(false);

    const handleSetActive = (section: string) => {
        setActiveSection(section);
    };

    const toggleDropdown = () => {
        setDropdownOpen(!isDropdownOpen);
    };

    return (
        <div className={styles.navbar}>
            <div className={styles.navbar__content}>
                <Link to={"/"}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="181" height="34" viewBox="0 0 181 34" fill="none">
                        <path d="M33.5288 16.8066C33.5288 13.4826 32.5456 10.2332 30.7035 7.46937C28.8614 4.70554 26.2432 2.55139 23.1799 1.27934C20.1166 0.00728204 16.7458 -0.325545 13.4938 0.322942C10.2419 0.97143 7.25474 2.57211 4.91019 4.92255C2.56565 7.273 0.96899 10.2677 0.322131 13.5278C-0.324728 16.788 0.00726375 20.1672 1.27612 23.2383C2.54498 26.3093 4.69372 28.9341 7.45061 30.7808C10.2075 32.6276 13.4487 33.6133 16.7644 33.6133V16.8066H33.5288Z" fill="#0B68EF" />
                        <path d="M50.2932 33.6133C50.2932 31.4062 49.8596 29.2207 49.0171 27.1816C48.1746 25.1426 46.9398 23.2898 45.3831 21.7292C43.8263 20.1685 41.9782 18.9306 39.9443 18.086C37.9103 17.2414 35.7304 16.8066 33.5288 16.8066V33.6133H50.2932Z" fill="#0B68EF" />
                        <path d="M65.105 33.6133V11.6119H72.5204C74.2349 11.6119 75.6423 11.9055 76.7424 12.4928C77.8426 13.0729 78.657 13.8714 79.1857 14.8884C79.7143 15.9054 79.9786 17.0621 79.9786 18.3584C79.9786 19.6547 79.7143 20.8042 79.1857 21.8068C78.657 22.8095 77.8462 23.5973 76.7532 24.1703C75.6601 24.7361 74.2635 25.019 72.5632 25.019H66.5623V22.6126H72.4775C73.6491 22.6126 74.5921 22.4407 75.3065 22.0969C76.028 21.7531 76.5496 21.2661 76.871 20.6359C77.1996 19.9985 77.364 19.2393 77.364 18.3584C77.364 17.4775 77.1996 16.7076 76.871 16.0487C76.5424 15.3898 76.0173 14.8813 75.2958 14.5232C74.5743 14.1579 73.6205 13.9753 72.4346 13.9753H67.7625V33.6133H65.105ZM75.4351 23.7298L80.8359 33.6133H77.7497L72.4346 23.7298H75.4351Z" fill="black" />
                        <path d="M90.7883 33.957C89.2023 33.957 87.8343 33.6061 86.6841 32.9042C85.5411 32.1952 84.6588 31.2069 84.0373 29.9392C83.4229 28.6644 83.1157 27.1819 83.1157 25.4916C83.1157 23.8014 83.4229 22.3118 84.0373 21.0226C84.6588 19.7263 85.5232 18.7165 86.6305 17.9931C87.745 17.2626 89.0452 16.8973 90.5311 16.8973C91.3884 16.8973 92.2349 17.0406 93.0708 17.3271C93.9066 17.6135 94.6674 18.0791 95.3533 18.7236C96.0391 19.361 96.5856 20.2062 96.9928 21.259C97.4 22.3118 97.6036 23.6081 97.6036 25.1479V26.2222H84.916V24.0306H95.0318C95.0318 23.0996 94.846 22.2688 94.4745 21.5383C94.1102 20.8078 93.5887 20.2312 92.91 19.8087C92.2385 19.3861 91.4455 19.1748 90.5311 19.1748C89.5238 19.1748 88.6523 19.4255 87.9164 19.9268C87.1878 20.421 86.627 21.0656 86.234 21.8606C85.8411 22.6555 85.6447 23.5078 85.6447 24.4174V25.8784C85.6447 27.1246 85.859 28.1809 86.2876 29.0475C86.7234 29.907 87.3271 30.5623 88.0986 31.0135C88.8701 31.4575 89.7667 31.6795 90.7883 31.6795C91.4527 31.6795 92.0528 31.5864 92.5886 31.4002C93.1315 31.2069 93.5994 30.9204 93.9923 30.5408C94.3853 30.1541 94.6889 29.6742 94.9032 29.1012L97.3464 29.7888C97.0892 30.6196 96.657 31.3501 96.0498 31.9803C95.4426 32.6034 94.6924 33.0904 93.7995 33.4414C92.9065 33.7851 91.9027 33.957 90.7883 33.957Z" fill="black" />
                        <path d="M103.98 11.6119V33.6133H101.451V11.6119H103.98Z" fill="black" />
                        <path d="M108.611 33.6133V17.1122H111.14V33.6133H108.611ZM109.897 14.362C109.404 14.362 108.979 14.1937 108.622 13.8571C108.272 13.5205 108.097 13.1159 108.097 12.6432C108.097 12.1705 108.272 11.7658 108.622 11.4292C108.979 11.0926 109.404 10.9243 109.897 10.9243C110.39 10.9243 110.812 11.0926 111.162 11.4292C111.519 11.7658 111.698 12.1705 111.698 12.6432C111.698 13.1159 111.519 13.5205 111.162 13.8571C110.812 14.1937 110.39 14.362 109.897 14.362Z" fill="black" />
                        <path d="M120.616 34C119.573 34 118.626 33.803 117.776 33.4091C116.926 33.0081 116.251 32.4315 115.751 31.6795C115.251 30.9204 115.001 30.0036 115.001 28.9294C115.001 27.984 115.187 27.2177 115.558 26.6304C115.93 26.0359 116.426 25.5704 117.048 25.2338C117.669 24.8972 118.355 24.6465 119.105 24.4818C119.862 24.3099 120.623 24.1739 121.388 24.0736C122.388 23.9447 123.198 23.848 123.82 23.7835C124.449 23.7119 124.906 23.5937 125.192 23.429C125.485 23.2643 125.631 22.9778 125.631 22.5696V22.4836C125.631 21.4237 125.342 20.6001 124.763 20.0128C124.191 19.4255 123.324 19.1319 122.159 19.1319C120.952 19.1319 120.005 19.3969 119.319 19.9268C118.634 20.4568 118.151 21.0226 117.873 21.6242L115.472 20.7648C115.901 19.7621 116.472 18.9815 117.187 18.4228C117.908 17.857 118.694 17.4631 119.544 17.2411C120.402 17.0119 121.245 16.8973 122.073 16.8973C122.602 16.8973 123.209 16.9618 123.895 17.0907C124.588 17.2125 125.256 17.4667 125.899 17.8535C126.549 18.2402 127.088 18.8239 127.517 19.6045C127.946 20.3852 128.16 21.4308 128.16 22.7415V33.6133H125.631V31.3787H125.502C125.331 31.7368 125.045 32.12 124.645 32.5282C124.245 32.9365 123.713 33.2838 123.048 33.5703C122.384 33.8568 121.573 34 120.616 34ZM121.002 31.7225C122.002 31.7225 122.845 31.5256 123.531 31.1317C124.224 30.7377 124.745 30.2292 125.095 29.6062C125.452 28.9831 125.631 28.3278 125.631 27.6402V25.3198C125.524 25.4487 125.288 25.5668 124.924 25.6743C124.567 25.7745 124.152 25.8641 123.681 25.9428C123.216 26.0145 122.763 26.0789 122.32 26.1362C121.884 26.1863 121.53 26.2293 121.259 26.2651C120.602 26.3511 119.987 26.4907 119.416 26.6841C118.851 26.8703 118.394 27.1532 118.044 27.5328C117.701 27.9052 117.53 28.4137 117.53 29.0583C117.53 29.9392 117.855 30.6052 118.505 31.0565C119.162 31.5005 119.994 31.7225 121.002 31.7225Z" fill="black" />
                        <path d="M135.305 23.6868V33.6133H132.776V17.1122H135.219V19.6905H135.433C135.819 18.8525 136.405 18.1793 137.191 17.6708C137.977 17.1552 138.991 16.8973 140.234 16.8973C141.349 16.8973 142.324 17.1265 143.16 17.5849C143.995 18.0361 144.645 18.7236 145.11 19.6475C145.574 20.5642 145.806 21.7245 145.806 23.1282V33.6133H143.277V23.3001C143.277 22.0038 142.942 20.994 142.27 20.2706C141.599 19.5401 140.677 19.1748 139.505 19.1748C138.698 19.1748 137.977 19.3503 137.341 19.7012C136.712 20.0522 136.216 20.5642 135.851 21.2375C135.487 21.9107 135.305 22.7271 135.305 23.6868Z" fill="black" />
                        <path d="M157.114 33.957C155.571 33.957 154.242 33.5918 153.128 32.8613C152.014 32.1307 151.156 31.1245 150.556 29.8425C149.956 28.5605 149.656 27.0959 149.656 25.4487C149.656 23.7728 149.963 22.2938 150.578 21.0119C151.199 19.7227 152.064 18.7165 153.171 17.9931C154.285 17.2626 155.585 16.8973 157.071 16.8973C158.229 16.8973 159.272 17.1122 160.2 17.5419C161.129 17.9716 161.89 18.5732 162.483 19.3467C163.076 20.1202 163.444 21.0226 163.587 22.0539H161.058C160.865 21.3019 160.436 20.6359 159.772 20.0557C159.115 19.4685 158.229 19.1748 157.114 19.1748C156.128 19.1748 155.264 19.4327 154.521 19.9483C153.785 20.4568 153.21 21.1766 152.796 22.1076C152.389 23.0315 152.185 24.1166 152.185 25.3627C152.185 26.6376 152.385 27.7476 152.785 28.693C153.192 29.6384 153.764 30.3725 154.5 30.8953C155.243 31.4181 156.114 31.6795 157.114 31.6795C157.772 31.6795 158.368 31.5649 158.904 31.3358C159.44 31.1066 159.893 30.7771 160.265 30.3474C160.636 29.9177 160.901 29.4021 161.058 28.8004H163.587C163.444 29.7745 163.09 30.6518 162.526 31.4325C161.969 32.2059 161.229 32.8219 160.308 33.2802C159.393 33.7314 158.329 33.957 157.114 33.957Z" fill="black" />
                        <path d="M174.185 33.957C172.599 33.957 171.231 33.6061 170.081 32.9042C168.937 32.1952 168.055 31.2069 167.434 29.9392C166.819 28.6644 166.512 27.1819 166.512 25.4916C166.512 23.8014 166.819 22.3118 167.434 21.0226C168.055 19.7263 168.92 18.7165 170.027 17.9931C171.141 17.2626 172.442 16.8973 173.928 16.8973C174.785 16.8973 175.631 17.0406 176.467 17.3271C177.303 17.6135 178.064 18.0791 178.75 18.7236C179.435 19.361 179.982 20.2062 180.389 21.259C180.796 22.3118 181 23.6081 181 25.1479V26.2222H168.312V24.0306H178.428C178.428 23.0996 178.242 22.2688 177.871 21.5383C177.507 20.8078 176.985 20.2312 176.306 19.8087C175.635 19.3861 174.842 19.1748 173.928 19.1748C172.92 19.1748 172.049 19.4255 171.313 19.9268C170.584 20.421 170.023 21.0656 169.63 21.8606C169.238 22.6555 169.041 23.5078 169.041 24.4174V25.8784C169.041 27.1246 169.255 28.1809 169.684 29.0475C170.12 29.907 170.723 30.5623 171.495 31.0135C172.267 31.4575 173.163 31.6795 174.185 31.6795C174.849 31.6795 175.449 31.5864 175.985 31.4002C176.528 31.2069 176.996 30.9204 177.389 30.5408C177.782 30.1541 178.085 29.6742 178.3 29.1012L180.743 29.7888C180.486 30.6196 180.053 31.3501 179.446 31.9803C178.839 32.6034 178.089 33.0904 177.196 33.4414C176.303 33.7851 175.299 33.957 174.185 33.957Z" fill="black" />
                    </svg></Link>


                <p className={styles.navbar__content__menu}>Меню</p>

                <button onClick={toggleDropdown} className={styles.navbar__dropdownButton}>
                    {isDropdownOpen ? (
                        <div className={styles.navbar__dropdownButton__content}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                <path d="M0 1.09091C0 0.488417 0.488417 0 1.09091 0H4.36364C4.96613 0 5.45455 0.488417 5.45455 1.09091V4.36364C5.45455 4.96613 4.96613 5.45455 4.36364 5.45455H1.09091C0.488417 5.45455 0 4.96613 0 4.36364V1.09091Z" fill="white" fill-opacity="0.8" />
                                <path d="M0 7.63636C0 7.03387 0.488417 6.54545 1.09091 6.54545H4.36364C4.96613 6.54545 5.45455 7.03387 5.45455 7.63636V10.9091C5.45455 11.5116 4.96613 12 4.36364 12H1.09091C0.488417 12 0 11.5116 0 10.9091V7.63636Z" fill="white" fill-opacity="0.45" />
                                <path d="M6.54545 7.63636C6.54545 7.03387 7.03387 6.54545 7.63636 6.54545H10.9091C11.5116 6.54545 12 7.03387 12 7.63636V10.9091C12 11.5116 11.5116 12 10.9091 12H7.63636C7.03387 12 6.54545 11.5116 6.54545 10.9091V7.63636Z" fill="white" fill-opacity="0.8" />
                                <path d="M6.54545 1.09091C6.54545 0.488417 7.03387 0 7.63636 0H10.9091C11.5116 0 12 0.488417 12 1.09091V4.36364C12 4.96613 11.5116 5.45455 10.9091 5.45455H7.63636C7.03387 5.45455 6.54545 4.96613 6.54545 4.36364V1.09091Z" fill="white" fill-opacity="0.45" />
                            </svg>
                            <span>Главная</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="10" height="4" viewBox="0 0 10 4" fill="none">
                                <path d="M1 3L4.55279 1.22361C4.83431 1.08284 5.16569 1.08284 5.44721 1.22361L9 3" stroke="white" />
                            </svg>
                        </div>
                    ) :
                        <div className={styles.navbar__dropdownButton__content}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                <path d="M0 1.09091C0 0.488417 0.488417 0 1.09091 0H4.36364C4.96613 0 5.45455 0.488417 5.45455 1.09091V4.36364C5.45455 4.96613 4.96613 5.45455 4.36364 5.45455H1.09091C0.488417 5.45455 0 4.96613 0 4.36364V1.09091Z" fill="white" fill-opacity="0.8" />
                                <path d="M0 7.63636C0 7.03387 0.488417 6.54545 1.09091 6.54545H4.36364C4.96613 6.54545 5.45455 7.03387 5.45455 7.63636V10.9091C5.45455 11.5116 4.96613 12 4.36364 12H1.09091C0.488417 12 0 11.5116 0 10.9091V7.63636Z" fill="white" fill-opacity="0.45" />
                                <path d="M6.54545 7.63636C6.54545 7.03387 7.03387 6.54545 7.63636 6.54545H10.9091C11.5116 6.54545 12 7.03387 12 7.63636V10.9091C12 11.5116 11.5116 12 10.9091 12H7.63636C7.03387 12 6.54545 11.5116 6.54545 10.9091V7.63636Z" fill="white" fill-opacity="0.8" />
                                <path d="M6.54545 1.09091C6.54545 0.488417 7.03387 0 7.63636 0H10.9091C11.5116 0 12 0.488417 12 1.09091V4.36364C12 4.96613 11.5116 5.45455 10.9091 5.45455H7.63636C7.03387 5.45455 6.54545 4.96613 6.54545 4.36364V1.09091Z" fill="white" fill-opacity="0.45" />
                            </svg>
                            <span>Главная</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="10" height="3" viewBox="0 0 10 3" fill="none">
                                <path d="M1 1L4.75746 1.93937C4.9167 1.97918 5.0833 1.97918 5.24254 1.93937L9 1" stroke="white" />
                            </svg>
                        </div>
                    }
                </button>

                {isDropdownOpen && (
                    <ul className={styles.navbar__dropdownMenu}>
                        <li className={styles.navbar__item}>
                            <a
                                href="#main"
                                onClick={() => handleSetActive("home")}
                                className={`${styles.navbar__link} ${activeSection === "home" ? styles.active : styles.inactive}`}
                            >
                                Главная
                            </a>
                        </li>
                        <li className={styles.navbar__item}>
                            <a
                                href="#products"
                                onClick={() => handleSetActive("services")}
                                className={`${styles.navbar__link} ${activeSection === "services" ? styles.active : styles.inactive}`}
                            >
                                Продукты
                            </a>
                        </li>
                        <li className={styles.navbar__item}>
                            <a
                                href="#services"
                                onClick={() => handleSetActive("another")}
                                className={`${styles.navbar__link} ${activeSection === "another" ? styles.active : styles.inactive}`}
                            >
                                Сервисы
                            </a>
                        </li>
                    </ul>
                )}

                <Link to={"/auth"} className={styles.navbar__login}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                        <path d="M5 1H2.33333C1.97971 1 1.64057 1.14048 1.39052 1.39052C1.14048 1.64057 1 1.97971 1 2.33333V11.6667C1 12.0203 1.14048 12.3594 1.39052 12.6095C1.64057 12.8595 1.97971 13 2.33333 13H5M9.66667 3.66667L13 7M13 7L9.66667 10.3333M13 7H5" stroke="#A4A4A4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    Войти
                </Link>
            </div>
        </div>
    );
};

export { NavBar };
